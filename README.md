# Сервис заказов

Простой веб-сервис для работы с заказами, построенный на Go с использованием кэширования и Kafka.

## Описание

Сервис предоставляет HTTP API для получения информации о заказах. Использует LRU-кэш для быстрого доступа к данным и PostgreSQL для постоянного хранения. Поддерживает асинхронную обработку сообщений через Apache Kafka.



## Структура проекта

```
pr1/
├── main.go              # Точка входа приложения
├── models.go            # Модели данных (Order, Delivery, Payment, Item)
├── handlers.go          # HTTP обработчики
├── database.go          # Работа с базой данных
├── cache.go             # LRU кэш
├── kafka.go             # Работа с Kafka
├── globals.go           # Глобальные переменные
├── docker-compose.yaml  # Конфигурация Docker
├── database/            # SQL скрипты
│   ├── init/
│   │   └── init.sql
│   └── insert.sql
├── *.sh                 # Скрипты для тестирования
└── Makefile            # Команды сборки
```

## API

### Получение заказа

```
GET /order?id={order_uid}
```

**Параметры:**
- `id` - уникальный идентификатор заказа

**Ответ:** JSON объект с информацией о заказе

## Запуск

```bash

make kafka    # Запуск Kafka
make run      # Запуск приложения
```


## Тестирование

В проекте есть несколько скриптов для тестирования:

- `request.sh` - отправка запроса к API
- `request_speed.sh` - тест производительности
- `producer.sh` - отправка сообщений в Kafka

## Конфигурация

Основные настройки находятся в `globals.go`:
- Размер кэша
- Настройки подключения к БД
- Настройки Kafka


